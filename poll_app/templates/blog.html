<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Tamil Nadu Polling 2026</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="./static/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

</head>

<body class="bg-gray-50 text-white">


<nav id="navbar" class="fixed w-full top-0 z-50 bg-[#06038D] transition-colors duration-300 z-[9999]">
  <div class="px-5 sm:px-10 md:px-20 flex justify-between items-center h-16">
    <a href="{% url 'index' %}" class="text-2xl font-bold text-white">TN Polls 2026</a>

    <!-- Desktop Menu -->
    <div class="hidden md:flex items-center space-x-6">
      <a href="{% url 'index' %}" class="hover:text-gray-200 transition">Home</a>
      <a href="{% url 'overview' %}" class="px-4 py-2 border border-white rounded bg-white/10 text-white hover:bg-white/20 transition">Overview</a>
      <a href="{% url 'news' %}" class="hover:text-gray-200 transition">News</a>
      <div class="flex items-center space-x-2">
  <div class="flex items-center space-x-2">
        <span id="lang-label" class="text-white font-semibold text-sm">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</span>
        <label class="relative inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="lang-toggle">
          <div class="w-10 h-6 bg-gray-300 rounded-full peer-checked:bg-blue-500 transition-colors"></div>
          <div class="absolute left-[2px] top-[2px] w-5 h-5 bg-white rounded-full shadow-md peer-checked:translate-x-[18px] transition-transform duration-300"></div>
        </label>
      </div>
</div>
    </div>

    <!-- Mobile Menu Button -->
    <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>

  <!-- Overlay -->
  <div id="overlay" class="fixed inset-0 bg-black/50 hidden z-40"></div>

  <!-- Mobile Sidebar Menu -->
  <div id="mobile-menu" class="fixed top-0 right-[-70%] h-full w-[70%] bg-[#06038D]/95 text-white shadow-lg transition-all duration-500 z-50 flex flex-col px-6 py-8 space-y-4">
    <a href="{% url 'index' %}" class="hover:text-red-500 transition">Home</a>
    <a href="{% url 'overview' %}" class="px-4 py-2 border border-white rounded bg-white/10 text-white hover:bg-white/20 transition">Overview</a>
    <a href="{% url 'news' %}" class="hover:text-red-500 transition">News</a>
   <div class="flex items-center space-x-2 mt-6">
  <span id="mobile-lang-label" class="text-white font-semibold text-sm">ENG</span>
  <label class="relative inline-flex items-center cursor-pointer">
    <input type="checkbox" class="sr-only peer" id="mobile-lang-toggle">
    <!-- Track -->
    <div class="w-10 h-6 bg-gray-300 rounded-full peer-checked:bg-blue-500 transition-colors"></div>
    <!-- Slider -->
    <div class="absolute left-[2px] top-[2px] w-5 h-5 bg-white rounded-full shadow-md peer-checked:translate-x-[18px] transition-transform duration-300"></div>
  </label>
</div>

  </div>
</nav>


<!-- ===============================
     üì∞ BLOG SECTION WITH FILTERS
================================== -->
<div class="max-w-7xl mx-auto px-6 py-16 text-black mt-10">

  <!-- Top section -->
  <h1 class="text-4xl font-bold text-left mb-10 border-b pb-3 border-gray-300 inline-block uppercase text-black">
    Tamil Nadu Politics
  </h1>
  <p class="text-gray-600 mb-12 max-w-2xl">
    Stay informed about Tamil Nadu‚Äôs dynamic political landscape. From party announcements and elections to leadership
    updates and key reforms shaping the state‚Äôs future.
  </p>

  <!-- ===============================
       FILTER BUTTONS
  =============================== -->
  <div class="flex items-center justify-between flex-wrap gap-4 mb-12">
    <div class="flex gap-3 flex-wrap">

      <!-- "All Articles" button -->
      <button class="filter-btn px-4 py-2 rounded-full bg-black text-white text-sm" data-category="all">
        All Articles
      </button>

      <!-- Dynamic categories -->
      {% for category in categories %}
        <button
          class="filter-btn px-4 py-2 rounded-full bg-white border text-sm hover:bg-gray-100 transition"
          data-category="{{ category.slug|default:category.name|slugify }}">
          {{ category.name }}
        </button>
      {% empty %}
        <p class="text-gray-500 text-sm">No categories available.</p>
      {% endfor %}
    </div>
  </div>

  <!-- ===============================
       BLOG GRID
  =============================== -->
  <div id="newsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
    {% for blog in blogs %}
      <div class="news-card bg-white rounded-xl shadow-sm border hover:shadow-md transition-all duration-300 overflow-hidden opacity-100 scale-100"
          data-category="{{ blog.category.slug|default:blog.category.name|slugify }}"
          data-category-name="{{ blog.category.name|default:'General' }}"
          data-title="{{ blog.title }}"
          data-date="{{ blog.created|date:'M d, Y' }}"
          data-img="{{ blog.image.url }}"
          data-content="{{ blog.paragraph|safe }}">

        {% if blog.image %}
          <img src="{{ blog.image.url }}" class="w-full h-56 object-cover" alt="{{ blog.title }}">
        {% endif %}

        <div class="p-5">
          <p class="text-red-700 text-sm font-medium">
            {{ blog.category.name|default:'General' }} ‚Ä¢ {{ blog.created|date:"M d, Y" }}
          </p>
          <h2 class="text-lg font-semibold mt-2">{{ blog.title }}</h2>
          <p class="text-gray-600 text-sm mt-2">
            {{ blog.paragraph|truncatewords:25 }}
          </p>
          <button class="read-btn mt-4 text-red-700 flex items-center gap-2 font-medium hover:gap-3 transition-all">
            Read More <i class="ri-arrow-right-line"></i>
          </button>
        </div>
      </div>
    {% empty %}
      <p class="col-span-3 text-center text-gray-500">No blogs available.</p>
    {% endfor %}
  </div>
</div>

<!-- ===============================
     MODAL (Popup for Read More)
=============================== -->
<div id="newsModal"
     class="fixed inset-0 bg-black bg-opacity-60 hidden opacity-0 transition-opacity duration-300 flex items-center justify-center z-50">
  <div class="bg-white rounded-2xl w-11/12 md:w-3/4 lg:w-1/2 max-h-[90vh] overflow-y-auto shadow-xl transform transition-all scale-95 p-6 relative">
    <button id="closeModal"
            class="absolute top-4 right-4 text-gray-400 hover:text-gray-700 text-2xl">&times;</button>
    <img id="modalImg" src="" alt="Modal Image" class="w-full h-64 object-cover rounded-md mb-4">
    <p id="modalMeta" class="text-red-700 text-sm font-medium mb-2"></p>
    <h2 id="modalTitle" class="text-xl font-semibold mb-4"></h2>
    <div id="modalContent" class="text-gray-700 leading-relaxed space-y-3"></div>
  </div>
</div>

<!-- ===============================
     SCRIPT SECTION
=============================== -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  // =============================
  // BLOG PAGE INTERACTIONS
  // =============================

  // --- FILTER BUTTONS ---
  const filterButtons = document.querySelectorAll(".filter-btn");
  const cards = document.querySelectorAll(".news-card");

  filterButtons.forEach((btn) => {
    btn.addEventListener("click", () => {
      // Reset all button styles
      filterButtons.forEach((b) => {
        b.classList.remove("bg-black", "text-white");
        b.classList.add("bg-white", "border");
      });

      // Activate selected button
      btn.classList.remove("bg-white", "border");
      btn.classList.add("bg-black", "text-white");

      // Filter cards
      const selectedCategory = btn.dataset.category;
      cards.forEach((card) => {
        const cardCategory = card.dataset.category;
        if (selectedCategory === "all" || cardCategory === selectedCategory) {
          card.classList.remove("hidden", "opacity-0", "scale-95");
          card.classList.add("opacity-100", "scale-100");
        } else {
          card.classList.add("opacity-0", "scale-95");
          setTimeout(() => card.classList.add("hidden"), 200);
        }
      });
    });
  });

  // =============================
  // MODAL FUNCTIONALITY
  // =============================
  const readButtons = document.querySelectorAll(".read-btn");
  const modal = document.getElementById("newsModal");
  const closeModal = document.getElementById("closeModal");
  const modalImg = document.getElementById("modalImg");
  const modalMeta = document.getElementById("modalMeta");
  const modalTitle = document.getElementById("modalTitle");
  const modalContent = document.getElementById("modalContent");

  // --- OPEN MODAL ---
  readButtons.forEach((btn) => {
    btn.addEventListener("click", (e) => {
      e.preventDefault(); // ‚õî prevent link navigation if anchor used
      e.stopPropagation(); // avoid bubbling issues

      const card = btn.closest(".news-card");
      if (!card) return;

      // Extract card data
      const img = card.dataset.img || card.querySelector("img")?.src || "";
      const date = card.dataset.date || "";
      const category =
        card.dataset.categoryName || card.dataset.category || "";
      const title =
        card.dataset.title || card.querySelector("h2")?.textContent || "";
      const contentParts = (card.dataset.content || "")
        .split("|")
        .filter((p) => p.trim() !== "");

      // Fill modal data
      modalImg.src = img;
      modalMeta.textContent = `${category} ‚Ä¢ ${date}`;
      modalTitle.textContent = title;
      modalContent.innerHTML =
        contentParts.length > 0
          ? contentParts
              .map(
                (p) =>
                  `<p class="mb-3 text-gray-700 leading-relaxed">${p}</p>`
              )
              .join("")
          : `<p class="text-gray-700">${card.querySelector("p.text-gray-600")?.textContent || ""}</p>`;

      // Show modal with fade animation
      modal.classList.remove("hidden");
      setTimeout(() => {
        modal.classList.add("flex", "opacity-100", "animate-fadeIn");
      }, 10);
    });
  });

  // --- CLOSE MODAL ---
  const hideModal = () => {
    modal.classList.remove("opacity-100", "animate-fadeIn");
    modal.classList.add("opacity-0");
    setTimeout(() => modal.classList.add("hidden"), 200);
  };

  if (closeModal) {
    closeModal.addEventListener("click", hideModal);
  }

  // Close when clicking outside modal content
  if (modal) {
    modal.addEventListener("click", (e) => {
      if (e.target === modal) hideModal();
    });
  }

  // --- Keyboard Escape key support ---
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && !modal.classList.contains("hidden")) {
      hideModal();
    }
  });
});

</script>





<footer class="bg-[#09121b] py-12 border-t border-neutral-800">
    <div class="container mx-auto px-8 flex flex-col md:flex-row justify-between gap-8">

      <div>
        <p class="font-mono uppercase tracking-wider text-gray-200">TN Polls 2026</p>
        <p class="mt-4 text-sm text-gray-400 max-w-5xl">Stay informed with the latest updates from the Tamil Nadu Legislative Assembly Elections.
        Explore candidate profiles, polling information and news insights - all in one place.</p>
      </div>

<div class="flex flex-col md:flex-row gap-8 md:gap-16 text-gray-400">

  <div>
    <p class="uppercase text-xs text-gray-500 mb-2">[Quick Links]</p>
    <ul class="space-y-1">
      <li><a href="index.html#polling" class="hover:text-white transition">Candidates </a></li>
      <li><a href="information.html" class="hover:text-white transition"> Informations</a></li>
      <li><a href="blogs.html" class="hover:text-white transition"> News</a></li>


    </ul>
  </div>

  <div>
    <p class="uppercase text-xs text-gray-500 mb-2">[Latest Updates]</p>
    <ul class="space-y-1">

      <li><a href="blogs.html" class="hover:text-white transition">Insights</a></li>
      <li><a href="blogs.html" class="hover:text-white transition"> Events</a></li>
    </ul>
  </div>
</div>

    </div>

   <div class="text-center text-xs text-gray-500 mt-12">
  Make Your Voice Count ‚Äì Every Vote Shapes Tamil Nadu's Future!
</div>

  </footer>



<script src="./static/js/other_scripts.js"></script>
</body>
</html>